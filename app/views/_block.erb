<div class="p-2 d-block block"
     style="
     height: 180px; overflow: hidden;
     <% if !image %>border: 2px solid #343a40;<% end %>
     <% if image %>background: linear-gradient( rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5) ), url('<%= image.thumb('400x400').url %>'); background-size: cover; background-position: center center;<% end %>
     ">
  <table style="width: 100%; height: 100%">
    <tr>
      <td style="vertical-align: top">
        <div class="row justify-content-between">
          <div class="col">
            <h4 class="block-title">
              <a class="<% if image %>text-white<% else %>text-dark<% end %>" target="_parent" href="<%= view_url %>" onclick="event.stopPropagation();">
                <%= title %>
              </a>
              <% if admin %>
                <a class="<% if image %>text-white<% else %>text-dark<% end %> block-edit" style="display: none" href="<%= edit_url %>" onclick="event.stopPropagation();">
                  <i class="fa fa-pencil"></i>
                </a>
              <% end %>
            </h4>
            <%= content if defined?(content) %>
          </div>
        </div>
      </td>
    </tr>
    <% if defined?(bottom_url) && bottom_url %>
      <tr>
        <td style="vertical-align: bottom; text-align: right">
          <a class="<% if image %>text-white<% else %>text-dark<% end %>" target="_parent" href="<%= bottom_url %>" onclick="event.stopPropagation();">
            <%= bottom_text %>
          </a>
        </td>
      </tr>
    <% end %>
  </table>
</div>
